---
interface Props {
  guestName: string;
  guestType?: string;
  guestsCount: number;
}

const { guestName, guestType = 'group', guestsCount } = Astro.props;

// Lógica de Saludo
const getGreeting = (type: string) => {
  const safeType = type.toLowerCase();
  if (safeType === 'male') return 'Querido';
  if (safeType === 'female') return 'Querida';
  return 'Queridos';
};

// Lógica de Texto Principal (Singular vs Plural)
// Si es 'group' o guestsCount > 1 usamos plural, sino singular
const isPlural = guestType.toLowerCase() === 'group' || guestsCount > 1;
const inviteText = isPlural ? "invitarles" : "invitarle";
---

<section class="relative pt-12 pb-8 px-6 bg-white text-center mt-[-20px] rounded-t-[3rem] z-20 shadow-[-10px_-10px_30px_rgba(0,0,0,0.1)]">
  
  <p class="font-cinzel text-gray-500 uppercase tracking-widest text-sm mb-2">
    {getGreeting(guestType)}
  </p>

  <h2 class="font-italianno text-6xl md:text-7xl text-wedding-secondary mb-6 leading-tight">
    {guestName}
  </h2>

  <p class="font-cinzel text-wedding-primary/80 text-sm md:text-base leading-relaxed max-w-prose mx-auto mb-8">
    Tenemos el gusto de {inviteText} a nuestra unión matrimonial y celebrar con nosotros este día tan especial.
  </p>

  <div class="inline-block border-t border-b border-wedding-soft/30 py-2 px-6">
    <p class="font-cinzel font-bold text-wedding-soft text-xs uppercase tracking-widest">
      Reservado para <span class="text-wedding-secondary text-lg mx-1">{guestsCount}</span> {guestsCount === 1 ? 'persona' : 'personas'}
    </p>
  </div>

</section>